<template>
  <div>
      <div v-if="podcast != null">
        <div class="d-flex context">
            <a href="/creator">{{'Mis Podcasts  >'}}</a>
            <div class="context-title">{{podcast.title}}</div>
        </div>
        <podcast-row 
            :podcast="podcast"
            :secondary="{ onTap: () => hola(podcast.id), title: 'Editar' }"
        ></podcast-row>
      </div>
  </div>
</template>

<script>
export default {
    data: () => {
        return {
            podcastId: null,
            podcast: null,
        };
    },
    async created() {
        this.parseUrl();

        await this.fetchPodcast();
    },
    methods: {
        parseUrl() {
            const url = window.location.href; 

            const elements = url.split('/');

            this.podcastId = elements[elements.length - 1];
        },
        async fetchPodcast() {
            const res = await axios.get(`/api/podcasts/${this.podcastId}`);

            this.podcast = res.data;

            console.log(this.podcast);
        },
        fetchEpisodes() {

        },
    },
}
</script>

<style scoped>
    .context {
        font-size: 16px;
        font-weight: bold;
        padding-bottom: 15px;
    }

    .context-title {
        color: grey;
        padding-left: 5px;
    }
</style>
